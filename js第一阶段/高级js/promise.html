<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //猪肚鸡  1、买鸡   2、杀鸡   3、洗切   4、焯水去腥   5、炖鸡    6、吃 
        //原来的异步操作，如果是多个异步操作，需要按顺序执行时，就需要一个套一个来写
        //形成
        setTimeout(function(){
            console.log('买鸡');
            setTimeout(function(){
                console.log('杀鸡');
                setTimeout(function(){
                    console.log('洗切');
                    setTimeout(function(){
                        console.log('焯水去腥');
                        setTimeout(function(){
                            console.log('炖鸡');
                            setTimeout(function(){
                                console.log('吃鸡');
                            },2000); 
                        },2000); 
                    },2000); 
                },2000); 
            },2000); 
        },2000);
        
        //promise  容器

        //1. 基础语法
        function getObj(){
            //promise对象
            /*
            new Promise 创建一个promise对象
            有一个参数，是一个回调函数
            这个回调函数有两个参数，resolve成功，reject失败

            */
            let pro = new Promise(function(resolve, reject){
                console.log('promise 被调用了');
                setTimeout(()=>{
                    resolve('success');
                    // reject('fail');
                }, 2000)
            })
            return pro;
        }
        //调用
        getObj();
        //调用成功/失败的结果
        //.then()  可以调用promise的承诺后的结果，成功or师表
        //.then()  可以有两个参数， 1接受成功的结果   2接受失败的结果
        getObj().then(function(data){
            console.log('666');
            console.log(data);
        }, function(err){
            console.log('777');
            console.log(err);
        })


    </script>
</body>
</html>